<!-- Google Fonts - Editorial/Magazine Style -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,500;0,8..60,600;1,8..60,400;1,8..60,500&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

<!-- Swiper.js for card carousels -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- Dark mode: early detection + toggle button -->
<script>
(function(){
  if (localStorage.theme === 'dark' || (!localStorage.theme && matchMedia('(prefers-color-scheme:dark)').matches)) {
    document.documentElement.classList.add('dark');
  }
})();
</script>
<style>
.theme-toggle{
  background:transparent;
  border:1px solid #d0d0d0;
  border-radius:6px;
  cursor:pointer;
  padding:6px 8px;
  margin-left:12px;
  color:#555;
  vertical-align:middle;
  line-height:0;
  transition:all .2s ease;
}
.theme-toggle:hover{background:#f5f5f5;border-color:#bbb;color:#333}
.theme-toggle:active{transform:scale(.95)}
.theme-toggle:focus{outline:2px solid #d4a012;outline-offset:2px}
.theme-toggle svg{width:16px;height:16px}
.theme-toggle .icon-sun{display:none}
.theme-toggle .icon-moon{display:block}
html.dark .theme-toggle .icon-sun{display:block}
html.dark .theme-toggle .icon-moon{display:none}
.dark .theme-toggle{background:transparent;border-color:#444;color:#aaa}
.dark .theme-toggle:hover{background:#2a2a2a;border-color:#555;color:#eee}
</style>
<script>
addEventListener('DOMContentLoaded',function(){
  var t=document.querySelector('.site-title');
  if(!t)return;
  var b=document.createElement('button');
  b.className='theme-toggle';
  b.ariaLabel='Toggle dark mode';
  b.innerHTML='<svg class="icon-sun" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="5"/><path stroke="currentColor" stroke-width="2" d="M12 1v3m0 16v3M4.2 4.2l2.2 2.2m11.2 11.2l2.2 2.2M1 12h3m16 0h3M4.2 19.8l2.2-2.2m11.2-11.2l2.2-2.2"/></svg><svg class="icon-moon" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.8A9 9 0 1111.2 3a7 7 0 109.8 9.8z"/></svg>';
  t.after(b);
  b.onclick=function(){
    document.documentElement.classList.toggle('dark');
    localStorage.theme=document.documentElement.classList.contains('dark')?'dark':'light';
  };
});
</script>
